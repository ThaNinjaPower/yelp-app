(this["webpackJsonpyelp-app"]=this["webpackJsonpyelp-app"]||[]).push([[0],{50:function(e,s,t){},73:function(e,s,t){},75:function(e,s,t){"use strict";t.r(s);var a=t(3),n=t(0),i=t.n(n),c=t(16),r=t.n(c),l=(t(50),t(18)),o=t(19),u=t(20),h=t(23),d=t(22),b=t(17),j=t(6),p=t(21),O=t.n(p),x=t(79),m=t(80),g=t(44),v=t(82),f=t(77),y=t(81);var _=function(e){return Object(a.jsxs)(y.a,{bg:"dark",border:"dark",text:"white",children:[Object(a.jsxs)(y.a.Body,{children:[Object(a.jsx)(y.a.Title,{color:"light",children:Object(a.jsx)("b",{children:e.result.name})}),Object(a.jsxs)(y.a.Title,{children:[e.result.rating," (",e.result.review_count," reviews)"]}),e.result.location.display_address.map((function(e){return Object(a.jsx)(y.a.Subtitle,{className:"mb-2",children:e})})),Object(a.jsx)(y.a.Title,{children:e.result.display_phone})]}),Object(a.jsx)(y.a.Footer,{children:Object(a.jsx)(b.b,{to:"/details",children:Object(a.jsx)(v.a,{onClick:function(){return e.changeId(e.result.id)},children:"Details"})})})]})};var I=function(e){return Object(a.jsx)(f.a,{children:void 0!==e.searchResults&&e.searchResults.map((function(s){return Object(a.jsx)(_,{result:s,searchDetails:e.searchDetails,changeId:e.changeId,businessId:e.businessId})}))})},D=t(78),S=function(e){Object(h.a)(t,e);var s=Object(d.a)(t);function t(){var e;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=s.call.apply(s,[this].concat(n))).convertTime=function(e){return(e=parseInt(e))>=1300&&e<2400?(e-=1200,e+=" PM"):e>=0&&e<100?(e+=1200,e+=" AM"):e>=100&&e<1200?e+=" AM":e>=1200&&e<1300&&(e+=" PM"),e=6===e.length?e.slice(0,1)+":"+e.slice(1):e.slice(0,2)+":"+e.slice(2)},e.convertDay=function(e){return{0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday"}[e]},e}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.searchDetails(this.props.businessId)}},{key:"render",value:function(){var e=this;return console.log("Hours",this.props.businessDetails.hours),Object(a.jsxs)(D.a,{children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(y.a.Img,{src:this.props.businessDetails.image_url})}),Object(a.jsxs)(y.a,{bg:"dark",text:"white",children:[Object(a.jsxs)(y.a.Header,{children:[Object(a.jsx)(y.a.Title,{children:Object(a.jsx)("h1",{children:this.props.businessDetails.name})}),Object(a.jsx)(y.a.Subtitle,{className:"mb-2",children:this.props.businessDetails.display_phone}),Object(a.jsxs)(y.a.Subtitle,{className:"mb-2",children:[this.props.businessDetails.rating," (",this.props.businessDetails.review_count," reviews)"]}),void 0!==this.props.businessDetails.location&&this.props.businessDetails.location.display_address.map((function(e){return Object(a.jsx)(y.a.Subtitle,{className:"mb-1",children:e})}))]}),Object(a.jsxs)(y.a.Body,{children:[Object(a.jsx)(y.a.Title,{className:"mb-2",children:"Regular Hours"}),void 0!==this.props.businessDetails.hours&&this.props.businessDetails.hours[0].open.map((function(s){return Object(a.jsx)("div",{children:Object(a.jsxs)(y.a.Subtitle,{className:"mb-2",children:[e.convertDay(s.day),": ",e.convertTime(s.start)," - ",e.convertTime(s.end)]})})}))]})]})]})}}]),t}(n.Component),T=(t(73),function(e){Object(h.a)(t,e);var s=Object(d.a)(t);function t(){var e;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=s.call.apply(s,[this].concat(n))).state={input:"",search_results:[],business_id:"",business_id_details:{}},e.handleInputChange=function(s){var t=s.target.value;e.setState({input:t})},e.changeId=function(s){e.setState({business_id:s})},e.searchBusiness=function(){O.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e.state.input,"&latitude=").concat("41.7508","&longitude=").concat("-88.1535"),{headers:{Authorization:"Bearer ".concat("1Unou29GnDoTq9syRQ8K7cIuGOwF4pgYZPgEsjsI2IV2EcoP5SE_KizlNTnwVy-qoG_a2EV2qpCQ-qWDbTLtAVbb538UKIbqIJYIsjfmrtfTSDLd9xGQadZ3dvahX3Yx")}}).then((function(s){e.setState({search_results:[],selected_business_id:"",business_id_details:{}}),console.log("Business search results response: ",s.data.businesses),e.setState({search_results:s.data.businesses})}))},e.searchDetails=function(s){O.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(s),{headers:{Authorization:"Bearer ".concat("1Unou29GnDoTq9syRQ8K7cIuGOwF4pgYZPgEsjsI2IV2EcoP5SE_KizlNTnwVy-qoG_a2EV2qpCQ-qWDbTLtAVbb538UKIbqIJYIsjfmrtfTSDLd9xGQadZ3dvahX3Yx")}}).then((function(t){console.log("Business details response: ",t.data),e.setState({search_results:[],business_id_details:t.data}),localStorage.setItem("Business ID",s),console.log("Location",e.state.business_id_details.location.display_address)}))},e}return Object(u.a)(t,[{key:"render",value:function(){var e=this;return Object(a.jsx)(b.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)(x.a,{bg:"dark",variant:"dark",children:[Object(a.jsx)(x.a.Brand,{href:"#home",children:"Naperville Business Search"}),Object(a.jsxs)(m.a,{inline:!0,children:[Object(a.jsx)(g.a,{type:"text",placeholder:"Search business name",className:"mr-sm-2",value:this.state.input,onChange:this.handleInputChange}),Object(a.jsx)(b.b,{to:"/search",children:Object(a.jsx)(v.a,{variant:"primary",onClick:this.searchBusiness,children:"Search"})})]})]}),Object(a.jsxs)("div",{className:"whole-page",children:[Object(a.jsx)(j.b,{path:"/search",render:function(s){return Object(a.jsx)(I,Object(l.a)(Object(l.a)({},s),{},{searchResults:e.state.search_results,changeId:e.changeId,businessId:e.state.business_id}))}}),Object(a.jsx)(j.b,{path:"/details",render:function(s){return Object(a.jsx)(S,Object(l.a)(Object(l.a)({},s),{},{searchDetails:e.searchDetails,businessId:e.state.business_id,businessDetails:e.state.business_id_details}))},children:this.state.business_id_details==={}&&Object(a.jsx)(j.a,{to:"/search"})}),Object(a.jsx)(j.b,{exact:!0,path:"/",children:Object(a.jsx)(j.a,{to:"/search"})})]})]})})}}]),t}(n.Component)),w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,83)).then((function(s){var t=s.getCLS,a=s.getFID,n=s.getFCP,i=s.getLCP,c=s.getTTFB;t(e),a(e),n(e),i(e),c(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),w()}},[[75,1,2]]]);
//# sourceMappingURL=main.a76ae177.chunk.js.map