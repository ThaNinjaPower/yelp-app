(this["webpackJsonpyelp-app"]=this["webpackJsonpyelp-app"]||[]).push([[0],{50:function(e,s,t){},73:function(e,s,t){},75:function(e,s,t){"use strict";t.r(s);var a=t(3),n=t(0),i=t.n(n),c=t(16),r=t.n(c),l=(t(50),t(18)),o=t(19),h=t(20),u=t(23),d=t(22),b=t(17),j=t(6),p=t(21),x=t.n(p),O=t(79),g=t(80),m=t(44),v=t(82),f=t(77),y=t(81);var w=function(e){return Object(a.jsxs)(y.a,{bg:"dark",border:"dark",text:"white",children:[Object(a.jsxs)(y.a.Body,{children:[Object(a.jsx)(y.a.Title,{color:"light",children:Object(a.jsx)("b",{children:e.result.name})}),Object(a.jsxs)(y.a.Title,{children:[e.result.rating," (",e.result.review_count," reviews)"]}),e.result.location.display_address.map((function(e){return Object(a.jsx)(y.a.Subtitle,{className:"mb-2",children:e})})),Object(a.jsx)(y.a.Title,{children:e.result.display_phone})]}),Object(a.jsx)(y.a.Footer,{children:Object(a.jsx)(b.b,{to:"/details",children:Object(a.jsx)(v.a,{onClick:function(){return e.changeId(e.result.id)},children:"Details"})})})]})};var _=function(e){return Object(a.jsx)(f.a,{children:void 0!==e.searchResults&&e.searchResults.map((function(s){return Object(a.jsx)(w,{result:s,searchDetails:e.searchDetails,changeId:e.changeId,businessId:e.businessId})}))})},I=t(78),D=function(e){Object(u.a)(t,e);var s=Object(d.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=s.call.apply(s,[this].concat(i))).convertTime=function(e){return(e=parseInt(e))>=1300&&e<2400?(e-=1200,e+=" PM"):e>=0&&e<100?(e+=1200,e+=" AM"):e>=100&&e<1200?e+=" AM":e>=1200&&e<1300&&(e+=" PM"),e=6===e.length?e.slice(0,1)+":"+e.slice(1):e.slice(0,2)+":"+e.slice(2)},e.convertDay=function(e){return{0:"Monday",1:"Tuesday",2:"Wednesday",3:"Thursday",4:"Friday",5:"Saturday",6:"Sunday"}[e]},e.printStars=function(e){for(var s=[],t=e;t>=1;t--)s.push(Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-star-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})),.5==e&&s.push(Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-star-half",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{"fill-rule":"evenodd",d:"M5.354 5.119L7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.519.519 0 0 1-.146.05c-.341.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.171-.403.59.59 0 0 1 .084-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027c.08 0 .16.018.232.056l3.686 1.894-.694-3.957a.564.564 0 0 1 .163-.505l2.906-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.002 2.223 8 2.226v9.8z"})}));for(t=5-e;t>=1;t--)s.push(Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",class:"bi bi-star",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{"fill-rule":"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"})}));return console.log(s),Object(a.jsx)("span",{children:s.map((function(e){return e}))})},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.searchDetails(this.props.businessId)}},{key:"render",value:function(){var e=this;return console.log("Hours",this.props.businessDetails.hours),Object(a.jsxs)(I.a,{children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(y.a.Img,{src:this.props.businessDetails.image_url})}),Object(a.jsxs)(y.a,{bg:"dark",text:"white",children:[Object(a.jsxs)(y.a.Header,{children:[Object(a.jsx)(y.a.Title,{children:Object(a.jsx)("h1",{children:this.props.businessDetails.name})}),Object(a.jsx)(y.a.Subtitle,{className:"mb-2",children:this.props.businessDetails.display_phone}),void 0!==this.props.businessDetails.rating&&Object(a.jsxs)(y.a.Subtitle,{className:"mb-4",children:[this.printStars(this.props.businessDetails.rating)," (",this.props.businessDetails.review_count," reviews)"]}),void 0!==this.props.businessDetails.location&&this.props.businessDetails.location.display_address.map((function(e){return Object(a.jsx)(y.a.Subtitle,{className:"mb-2",children:e})}))]}),Object(a.jsxs)(y.a.Body,{children:[Object(a.jsx)(y.a.Title,{className:"mb-2",children:"Regular Hours"}),void 0!==this.props.businessDetails.hours&&this.props.businessDetails.hours[0].open.map((function(s){return Object(a.jsx)("div",{children:Object(a.jsxs)(y.a.Subtitle,{className:"mb-2",children:[e.convertDay(s.day),": ",e.convertTime(s.start)," - ",e.convertTime(s.end)]})})}))]})]})]})}}]),t}(n.Component),S=(t(73),function(e){Object(u.a)(t,e);var s=Object(d.a)(t);function t(){var e;Object(o.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=s.call.apply(s,[this].concat(n))).state={input:"",search_results:[],business_id:"",business_id_details:{}},e.handleInputChange=function(s){var t=s.target.value;e.setState({input:t})},e.changeId=function(s){e.setState({business_id:s})},e.searchBusiness=function(){x.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e.state.input,"&latitude=").concat("41.7508","&longitude=").concat("-88.1535"),{headers:{Authorization:"Bearer ".concat("1Unou29GnDoTq9syRQ8K7cIuGOwF4pgYZPgEsjsI2IV2EcoP5SE_KizlNTnwVy-qoG_a2EV2qpCQ-qWDbTLtAVbb538UKIbqIJYIsjfmrtfTSDLd9xGQadZ3dvahX3Yx")}}).then((function(s){e.setState({search_results:[],selected_business_id:"",business_id_details:{}}),console.log("Business search results response: ",s.data.businesses),e.setState({search_results:s.data.businesses})}))},e.searchDetails=function(s){x.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(s),{headers:{Authorization:"Bearer ".concat("1Unou29GnDoTq9syRQ8K7cIuGOwF4pgYZPgEsjsI2IV2EcoP5SE_KizlNTnwVy-qoG_a2EV2qpCQ-qWDbTLtAVbb538UKIbqIJYIsjfmrtfTSDLd9xGQadZ3dvahX3Yx")}}).then((function(t){console.log("Business details response: ",t.data),e.setState({search_results:[],business_id_details:t.data}),localStorage.setItem("Business ID",s),console.log("Location",e.state.business_id_details.location.display_address)}))},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this;return Object(a.jsx)(b.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)(O.a,{bg:"dark",variant:"dark",children:[Object(a.jsx)(O.a.Brand,{href:"#home",children:"Naperville Business Search"}),Object(a.jsxs)(g.a,{inline:!0,children:[Object(a.jsx)(m.a,{type:"text",placeholder:"Search business name",className:"mr-sm-2",value:this.state.input,onChange:this.handleInputChange}),Object(a.jsx)(b.b,{to:"/search",children:Object(a.jsx)(v.a,{variant:"primary",onClick:this.searchBusiness,children:"Search"})})]})]}),Object(a.jsxs)("div",{className:"whole-page",children:[Object(a.jsx)(j.b,{path:"/search",render:function(s){return Object(a.jsx)(_,Object(l.a)(Object(l.a)({},s),{},{searchResults:e.state.search_results,changeId:e.changeId,businessId:e.state.business_id}))}}),Object(a.jsx)(j.b,{path:"/details",render:function(s){return Object(a.jsx)(D,Object(l.a)(Object(l.a)({},s),{},{searchDetails:e.searchDetails,businessId:e.state.business_id,businessDetails:e.state.business_id_details}))},children:this.state.business_id_details==={}&&Object(a.jsx)(j.a,{to:"/search"})}),Object(a.jsx)(j.b,{exact:!0,path:"/",children:Object(a.jsx)(j.a,{to:"/search"})})]})]})})}}]),t}(n.Component)),T=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,83)).then((function(s){var t=s.getCLS,a=s.getFID,n=s.getFCP,i=s.getLCP,c=s.getTTFB;t(e),a(e),n(e),i(e),c(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),T()}},[[75,1,2]]]);
//# sourceMappingURL=main.f0c1c250.chunk.js.map